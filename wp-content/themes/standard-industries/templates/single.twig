{% extends 'base.twig' %}

{% block content %}
    <h1 class="visually-hidden" id="title">{{ post.title }}</h1>

    <article class="post post-{{ post.post_type }}" id="post-{{ post.ID }}">
        <div class="post__body">
            <div class="post__content">
                <section class="article {{ post.thumbnail ? 'article--has-image' : '' }}">
                    <div class="article__hero">
                        <div class="article__hero-image">
                            <img
                                class="article__hero-img"
                                src="{{ post.thumbnail.src('large') }}"
                                srcset="{{ post.thumbnail.srcset }}"
                                alt="{{ post.thumbnail.alt }}"
                            />
                        </div>
                    </div>

                    <div class="article__content">
                        <div class="article__inner">
                            <h2 class="article__heading">{{ post.title }}</h2>
                            <p><a href="{{ post.edit_link }}">{{ _e('Edit') }}</a></p>
                            {{ post.content }}
                        </div>
                    </div>
                </section>

                {% set module = post.get_field('related_articles') %}
                <section class="related-articles">
                    <div class="related-articles__inner">
                        <header class="related-articles__header">
                            <h4 class="related-articles__heading">
                                {{ module.heading ? module.heading : 'Related Articles' }}
                            </h4>
                        </header>
                        <div class="related-articles__items">
                            {% for item in module.items %}
                                {% include 'partials/news-item.twig' with { type: 'related-articles', item: item.post } %}
                            {% endfor %}
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </article>
{% endblock %}
