{"version":3,"sources":["app.js","modules/nav.js","modules/spotlight.js","util/constants.js"],"names":["require","Nav","Spotlight","modules","forEach","module","init","_classCallCheck","_createClass","_require","MAX_WIDTH_MD","selector","el","_this","this","triggers","querySelectorAll","panels","renderWidth","window","innerWidth","addEventListener","resize","togglePanel","bind","trigger","key","value","panelId","getAttribute","panel","querySelector","concat","expanded","setAttribute","classList","toggle","document","exports","items","wrapper","prev","next","slideCount","length","activeSlide","getWrapperWidth","prevSlide","nextSlide","setActiveSlide","setWrapperWidth","style","transform","item","link","tabIndex","remove","activeLink","add","width","MAX_WIDTH_LG","MAX_WIDTH_SM"],"mappings":"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","file":"app.js","sourcesContent":["'use strict';\n\nrequire('core-js/modules/es6.promise');\nrequire('core-js/modules/es6.array.iterator');\nrequire('swiped-events');\n\nconst Nav = require('./modules/nav');\nconst Spotlight = require('./modules/spotlight');\n\nconst modules = [Nav, Spotlight];\n\n// Initialize all modules\nmodules.forEach((module) => {\n  module.init();\n});\n","'use strict';\n\nconst { MAX_WIDTH_MD } = require('../util/constants');\n\n/**\n * The element selector\n * @type {string}\n */\nconst selector = '.global-nav';\n\nclass Nav {\n  /**\n   * Component constructor, sets initial state\n   * @param el\n   */\n  constructor(el) {\n    // Elements\n    this.el = el;\n    this.triggers = el.querySelectorAll('.menu__trigger');\n    this.panels = el.querySelectorAll('.sub-menu');\n\n    // State\n    this.renderWidth = window.innerWidth;\n\n    // Listeners\n    window.addEventListener('resize', this.resize, false);\n\n    // Bindings\n    this.togglePanel = this.togglePanel.bind(this);\n\n    this.triggers.forEach((trigger) => {\n      trigger.addEventListener('click', () => this.togglePanel(trigger));\n    });\n  }\n\n  /**\n   * Toggles a nav menu panel\n   * @param trigger\n   */\n  togglePanel(trigger) {\n    const panelId = trigger.getAttribute('aria-controls');\n    const panel = this.el.querySelector(`#${panelId}`);\n    const expanded = trigger.getAttribute('aria-expanded');\n\n    // Open this panel\n    trigger.setAttribute('aria-expanded', expanded === 'false' ? 'true' : 'false');\n    trigger.classList.toggle('.menu__trigger--expanded');\n    panel.classList.toggle('sub-menu--expanded');\n  }\n\n  /**\n   * Updates the component when viewport size changes\n   */\n  resize() {\n    if (\n      (this.renderWidth <= MAX_WIDTH_MD && window.innerWidth > MAX_WIDTH_MD) ||\n      (this.renderWidth > MAX_WIDTH_MD && window.innerWidth <= MAX_WIDTH_MD)\n    ) {\n      this.renderWidth = window.innerWidth;\n    }\n  }\n\n  /**\n   * Initializes all spotlights on a page\n   */\n  static init() {\n    const modules = document.querySelectorAll(selector);\n\n    modules.forEach((el) => {\n      new Nav(el);\n    });\n  }\n}\n\nmodule.exports = Nav;\n","'use strict';\n\nconst { MAX_WIDTH_MD } = require('../util/constants');\n\n/**\n * The element selector\n * @type {string}\n */\nconst selector = '.spotlight';\n\nclass Spotlight {\n  /**\n   * Component constructor, sets initial state\n   * @param el\n   */\n  constructor(el) {\n    // Elements\n    this.el = el;\n    this.items = el.querySelectorAll('.spotlight__slide');\n    this.wrapper = el.querySelector('.spotlight__slides-wrapper');\n    this.prev = el.querySelector('.spotlight__prev');\n    this.next = el.querySelector('.spotlight__next');\n\n    // State\n    this.slideCount = this.items.length;\n    this.activeSlide = 0;\n    this.renderWidth = window.innerWidth;\n\n    // Bindings\n    this.getWrapperWidth = this.getWrapperWidth.bind(this);\n    this.prevSlide = this.prevSlide.bind(this);\n    this.nextSlide = this.nextSlide.bind(this);\n    this.resize = this.resize.bind(this);\n    this.setActiveSlide = this.setActiveSlide.bind(this);\n    this.setWrapperWidth = this.setWrapperWidth.bind(this);\n\n    // Listeners\n    window.addEventListener('resize', this.resize, false);\n    this.prev.addEventListener('click', this.prevSlide);\n    this.next.addEventListener('click', this.nextSlide);\n    this.wrapper.addEventListener('swiped-right', this.prevSlide);\n    this.wrapper.addEventListener('swiped-left', this.nextSlide);\n\n    // Initialize\n    this.setWrapperWidth();\n    this.setActiveSlide();\n  }\n\n  /**\n   * Gets the wrapper width based on the viewport size\n   * @returns {string}\n   */\n  getWrapperWidth() {\n    if (this.renderWidth <= MAX_WIDTH_MD) {\n      return `calc(${this.slideCount} * (100% + 16px))`;\n    } else {\n      return `calc(${this.slideCount} * 62%`;\n    }\n  }\n\n  /**\n   * Sets active slide to next slide\n   */\n  nextSlide() {\n    const nextSlide = this.activeSlide + 1;\n\n    this.activeSlide = nextSlide < this.slideCount ? nextSlide : 0;\n    this.setActiveSlide();\n  }\n\n  /**\n   * Sets active slide to previous slide\n   */\n  prevSlide() {\n    const prevSlide = this.activeSlide - 1;\n\n    this.activeSlide = prevSlide >= 0 ? prevSlide : this.slideCount - 1;\n    this.setActiveSlide();\n  }\n\n  /**\n   * Updates the component when viewport size changes\n   */\n  resize() {\n    if (\n      (this.renderWidth <= MAX_WIDTH_MD && window.innerWidth > MAX_WIDTH_MD) ||\n      (this.renderWidth > MAX_WIDTH_MD && window.innerWidth <= MAX_WIDTH_MD)\n    ) {\n      this.renderWidth = window.innerWidth;\n      this.setWrapperWidth();\n      this.setActiveSlide();\n    }\n  }\n\n  /**\n   * Sets the active slide by transforming the wrapper\n   */\n  setActiveSlide() {\n    this.wrapper.style.transform = `translateX(calc(-${\n      this.activeSlide\n    } * (100% / ${this.slideCount})))`;\n\n    // Remove active class from all slides\n    this.items.forEach((item) => {\n      const link = item.querySelector('.spotlight__slide-link');\n\n      if (link) {\n        link.tabIndex = -1;\n      }\n      item.classList.remove('spotlight__slide--active');\n    });\n\n    // Add active class to activeSlide\n    const activeSlide = this.items[this.activeSlide];\n    const activeLink = activeSlide.querySelector('.spotlight__slide-link');\n\n    if (activeLink) {\n      activeLink.tabIndex = 0;\n    }\n    this.items[this.activeSlide].classList.add('spotlight__slide--active');\n  }\n\n  /**\n   * Sets the wrapper width\n   */\n  setWrapperWidth() {\n    this.wrapper.style.width = this.getWrapperWidth();\n  }\n\n  /**\n   * Initializes all spotlights on a page\n   */\n  static init() {\n    const modules = document.querySelectorAll(selector);\n\n    modules.forEach((el) => {\n      new Spotlight(el);\n    });\n  }\n}\n\nmodule.exports = Spotlight;\n","'use strict';\n\n/**\n * Max width for large viewports\n * @type {number}\n */\nconst MAX_WIDTH_LG = 1440;\n\n/**\n * Max width for medium viewports\n * @type {number}\n */\nconst MAX_WIDTH_MD = 1024;\n\n/**\n * Max width for small viewports\n * @type {number}\n */\nconst MAX_WIDTH_SM = 767;\n\nmodule.exports = {\n  MAX_WIDTH_LG,\n  MAX_WIDTH_MD,\n  MAX_WIDTH_SM\n};\n"]}