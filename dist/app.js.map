{"version":3,"sources":["app.js","modules/spotlight.js"],"names":["require","Spotlight","modules","forEach","module","init","_classCallCheck","_createClass","selector","el","this","items","querySelectorAll","wrapper","querySelector","prev","next","slideCount","length","activeSlide","prevSlide","bind","nextSlide","setWrapperWidth","setWrapperTransform","addEventListener","key","value","style","width","concat","transform","document","exports"],"mappings":"AAAA,aAEAA,QAAQ,+BACRA,QAAQ,sCAER,IAAMC,UAAYD,QAAQ,uBAEpBE,QAAU,CAACD,WAGjBC,QAAQC,QAAQ,SAACC,GACfA,EAAOC;ACXT,oBAAoBC,oBAAoB,+CAA+CC,iBAAiB,qCAMxG,IAAMC,SAAW,aAEXP,UAR+K,WAanL,SAAAA,EAAYQ,GAAIH,gBAAAI,KAAAT,GAEdS,KAAKD,GAAKA,EACVC,KAAKC,MAAQF,EAAGG,iBAAiB,qBACjCF,KAAKG,QAAUJ,EAAGK,cAAc,8BAChCJ,KAAKK,KAAON,EAAGK,cAAc,oBAC7BJ,KAAKM,KAAOP,EAAGK,cAAc,oBAG7BJ,KAAKO,WAAaP,KAAKC,MAAMO,OAC7BR,KAAKS,YAAc,EAGnBT,KAAKU,UAAYV,KAAKU,UAAUC,KAAKX,MACrCA,KAAKY,UAAYZ,KAAKY,UAAUD,KAAKX,MACrCA,KAAKa,gBAAkBb,KAAKa,gBAAgBF,KAAKX,MACjDA,KAAKc,oBAAsBd,KAAKc,oBAAoBH,KAAKX,MAGzDA,KAAKK,KAAKU,iBAAiB,QAASf,KAAKU,WACzCV,KAAKM,KAAKS,iBAAiB,QAASf,KAAKY,WAGzCZ,KAAKa,kBACLb,KAAKc,sBArC6oD,OAApzBjB,aAAaN,EAAU,CAAC,CAACyB,IAAI,YAAYC,MAAM,WA4C74B,IAAML,EAAYZ,KAAKS,YAAc,EAErCT,KAAKS,YAAcG,EAAYZ,KAAKO,WAAaK,EAAY,EAC7DZ,KAAKc,wBA/CmhC,CAACE,IAAI,YAAYC,MAAM,WAmD/iC,IAAMP,EAAYV,KAAKS,YAAc,EAErCT,KAAKS,YAAcC,GAAa,EAAIA,EAAYV,KAAKO,WAAa,EAClEP,KAAKc,wBAtDwrC,CAACE,IAAI,kBAAkBC,MAAM,WA6D1tCjB,KAAKG,QAAQe,MAAMC,MAAnB,QAAAC,OAAmCpB,KAAKO,WAAxC,uBA7Dq0C,CAACS,IAAI,sBAAsBC,MAAM,WAoEt2CjB,KAAKG,QAAQe,MAAMG,UAAnB,oBAAAD,OACEpB,KAAKS,YADP,wBAAAW,OAEuBpB,KAAKO,WAF5B,UApEwgD,CAAC,CAACS,IAAI,OAAOC,MAAM,WA6E3gDK,SAASpB,iBAAiBJ,UAElCL,QAAQ,SAACM,GACf,IAAIR,EAAUQ,SAhFyoDR,EAAx+C,GAqFrLG,OAAO6B,QAAUhC","file":"app.js","sourcesContent":["'use strict';\n\nrequire('core-js/modules/es6.promise');\nrequire('core-js/modules/es6.array.iterator');\n\nconst Spotlight = require('./modules/spotlight');\n\nconst modules = [Spotlight];\n\n// Initialize all modules\nmodules.forEach((module) => {\n  module.init();\n});\n","'use strict';\n\n/**\n * The element selector\n * @type {string}\n */\nconst selector = '.spotlight';\n\nclass Spotlight {\n  /**\n   * Component constructor, sets initial state\n   * @param el\n   */\n  constructor(el) {\n    // Elements\n    this.el = el;\n    this.items = el.querySelectorAll('.spotlight__slide');\n    this.wrapper = el.querySelector('.spotlight__slides-wrapper');\n    this.prev = el.querySelector('.spotlight__prev');\n    this.next = el.querySelector('.spotlight__next');\n\n    // State\n    this.slideCount = this.items.length;\n    this.activeSlide = 0;\n\n    // Bindings\n    this.prevSlide = this.prevSlide.bind(this);\n    this.nextSlide = this.nextSlide.bind(this);\n    this.setWrapperWidth = this.setWrapperWidth.bind(this);\n    this.setWrapperTransform = this.setWrapperTransform.bind(this);\n\n    // Listeners\n    this.prev.addEventListener('click', this.prevSlide);\n    this.next.addEventListener('click', this.nextSlide);\n\n    // Initialize\n    this.setWrapperWidth();\n    this.setWrapperTransform();\n  }\n\n  /**\n   * Sets active slide to next slide\n   */\n  nextSlide() {\n    const nextSlide = this.activeSlide + 1;\n\n    this.activeSlide = nextSlide < this.slideCount ? nextSlide : 0;\n    this.setWrapperTransform();\n  }\n\n  prevSlide() {\n    const prevSlide = this.activeSlide - 1;\n\n    this.activeSlide = prevSlide >= 0 ? prevSlide : this.slideCount - 1;\n    this.setWrapperTransform();\n  }\n\n  /**\n   * Sets the wrapper width\n   */\n  setWrapperWidth() {\n    this.wrapper.style.width = `calc(${this.slideCount} * (100% + 16px))`;\n  }\n\n  /**\n   * Sets the wrapper transform\n   */\n  setWrapperTransform() {\n    this.wrapper.style.transform = `translateX(calc(-${\n      this.activeSlide\n    } * ((100% + 16px) / ${this.slideCount})))`;\n  }\n\n  /**\n   * Initializes all spotlights on a page\n   */\n  static init() {\n    const modules = document.querySelectorAll(selector);\n\n    modules.forEach((el) => {\n      new Spotlight(el);\n    });\n  }\n}\n\nmodule.exports = Spotlight;\n"]}