{"version":3,"sources":["app.js","modules/spotlight.js","util/constants.js"],"names":["require","Spotlight","modules","forEach","module","init","_classCallCheck","_createClass","_require","MAX_WIDTH_MD","selector","el","this","items","querySelectorAll","wrapper","querySelector","prev","next","slideCount","length","activeSlide","renderWidth","window","innerWidth","getWrapperWidth","bind","prevSlide","nextSlide","resize","setActiveSlide","setWrapperWidth","addEventListener","key","value","concat","style","transform","item","link","tabIndex","classList","remove","activeLink","add","width","document","exports","MAX_WIDTH_LG","MAX_WIDTH_SM"],"mappings":"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","file":"app.js","sourcesContent":["'use strict';\n\nrequire('core-js/modules/es6.promise');\nrequire('core-js/modules/es6.array.iterator');\nrequire('swiped-events');\n\nconst Spotlight = require('./modules/spotlight');\n\nconst modules = [Spotlight];\n\n// Initialize all modules\nmodules.forEach((module) => {\n  module.init();\n});\n","'use strict';\n\nconst { MAX_WIDTH_MD } = require('../util/constants');\n\n/**\n * The element selector\n * @type {string}\n */\nconst selector = '.spotlight';\n\nclass Spotlight {\n  /**\n   * Component constructor, sets initial state\n   * @param el\n   */\n  constructor(el) {\n    // Elements\n    this.el = el;\n    this.items = el.querySelectorAll('.spotlight__slide');\n    this.wrapper = el.querySelector('.spotlight__slides-wrapper');\n    this.prev = el.querySelector('.spotlight__prev');\n    this.next = el.querySelector('.spotlight__next');\n\n    // State\n    this.slideCount = this.items.length;\n    this.activeSlide = 0;\n    this.renderWidth = window.innerWidth;\n\n    // Bindings\n    this.getWrapperWidth = this.getWrapperWidth.bind(this);\n    this.prevSlide = this.prevSlide.bind(this);\n    this.nextSlide = this.nextSlide.bind(this);\n    this.resize = this.resize.bind(this);\n    this.setActiveSlide = this.setActiveSlide.bind(this);\n    this.setWrapperWidth = this.setWrapperWidth.bind(this);\n\n    // Listeners\n    window.addEventListener('resize', this.resize, false);\n    this.prev.addEventListener('click', this.prevSlide);\n    this.next.addEventListener('click', this.nextSlide);\n    this.wrapper.addEventListener('swiped-right', this.prevSlide);\n    this.wrapper.addEventListener('swiped-left', this.nextSlide);\n\n    // Initialize\n    this.setWrapperWidth();\n    this.setActiveSlide();\n  }\n\n  /**\n   * Gets the wrapper width based on the viewport size\n   * @returns {string}\n   */\n  getWrapperWidth() {\n    if (this.renderWidth <= MAX_WIDTH_MD) {\n      return `calc(${this.slideCount} * (100% + 16px))`;\n    } else {\n      return `calc(${this.slideCount} * 62%`;\n    }\n  }\n\n  /**\n   * Sets active slide to next slide\n   */\n  nextSlide() {\n    const nextSlide = this.activeSlide + 1;\n\n    this.activeSlide = nextSlide < this.slideCount ? nextSlide : 0;\n    this.setActiveSlide();\n  }\n\n  /**\n   * Sets active slide to previous slide\n   */\n  prevSlide() {\n    const prevSlide = this.activeSlide - 1;\n\n    this.activeSlide = prevSlide >= 0 ? prevSlide : this.slideCount - 1;\n    this.setActiveSlide();\n  }\n\n  /**\n   * Updates the component when viewport size changes\n   */\n  resize() {\n    if (\n      (this.renderWidth <= MAX_WIDTH_MD && window.innerWidth > MAX_WIDTH_MD) ||\n      (this.renderWidth > MAX_WIDTH_MD && window.innerWidth <= MAX_WIDTH_MD)\n    ) {\n      this.renderWidth = window.innerWidth;\n      this.setWrapperWidth();\n      this.setActiveSlide();\n    }\n  }\n\n  /**\n   * Sets the active slide by transforming the wrapper\n   */\n  setActiveSlide() {\n    this.wrapper.style.transform = `translateX(calc(-${\n      this.activeSlide\n    } * (100% / ${this.slideCount})))`;\n\n    // Remove active class from all slides\n    this.items.forEach((item) => {\n      const link = item.querySelector('.spotlight__slide-link');\n\n      if (link) {\n        link.tabIndex = -1;\n      }\n      item.classList.remove('spotlight__slide--active');\n    });\n\n    // Add active class to activeSlide\n    const activeSlide = this.items[this.activeSlide];\n    const activeLink = activeSlide.querySelector('.spotlight__slide-link');\n\n    if (activeLink) {\n      activeLink.tabIndex = 0;\n    }\n    this.items[this.activeSlide].classList.add('spotlight__slide--active');\n  }\n\n  /**\n   * Sets the wrapper width\n   */\n  setWrapperWidth() {\n    this.wrapper.style.width = this.getWrapperWidth();\n  }\n\n  /**\n   * Initializes all spotlights on a page\n   */\n  static init() {\n    const modules = document.querySelectorAll(selector);\n\n    modules.forEach((el) => {\n      new Spotlight(el);\n    });\n  }\n}\n\nmodule.exports = Spotlight;\n","'use strict';\n\n/**\n * Max width for large viewports\n * @type {number}\n */\nconst MAX_WIDTH_LG = 1440;\n\n/**\n * Max width for medium viewports\n * @type {number}\n */\nconst MAX_WIDTH_MD = 1024;\n\n/**\n * Max width for small viewports\n * @type {number}\n */\nconst MAX_WIDTH_SM = 767;\n\nmodule.exports = {\n  MAX_WIDTH_LG,\n  MAX_WIDTH_MD,\n  MAX_WIDTH_SM\n};\n"]}