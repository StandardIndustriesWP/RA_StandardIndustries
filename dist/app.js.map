{"version":3,"sources":["app.js","modules/spotlight.js","util/constants.js"],"names":["require","Spotlight","modules","forEach","module","init","_classCallCheck","_createClass","_require","MAX_WIDTH_MD","selector","el","this","items","querySelectorAll","wrapper","querySelector","prev","next","slideCount","length","activeSlide","renderWidth","window","innerWidth","getWrapperWidth","bind","prevSlide","nextSlide","resize","setActiveSlide","setWrapperWidth","addEventListener","key","value","concat","style","transform","width","document","exports","MAX_WIDTH_LG","MAX_WIDTH_SM"],"mappings":"AAAA,aAEAA,QAAQ,+BACRA,QAAQ,sCAER,IAAMC,UAAYD,QAAQ,uBAEpBE,QAAU,CAACD,WAGjBC,QAAQC,QAAQ,SAACC,GACfA,EAAOC;ACXT,oBAAoBC,oBAAoB,+CAA+CC,iBAAiB,qCAAqC,IAAIC,SAExHR,QAAQ,qBAAzBS,aAF4LD,SAE5LC,aAMFC,SAAW,aAEXT,UAV4P,WAehQ,SAAAA,EAAYU,GAAIL,gBAAAM,KAAAX,GAEdW,KAAKD,GAAKA,EACVC,KAAKC,MAAQF,EAAGG,iBAAiB,qBACjCF,KAAKG,QAAUJ,EAAGK,cAAc,8BAChCJ,KAAKK,KAAON,EAAGK,cAAc,oBAC7BJ,KAAKM,KAAOP,EAAGK,cAAc,oBAG7BJ,KAAKO,WAAaP,KAAKC,MAAMO,OAC7BR,KAAKS,YAAc,EACnBT,KAAKU,YAAcC,OAAOC,WAG1BZ,KAAKa,gBAAkBb,KAAKa,gBAAgBC,KAAKd,MACjDA,KAAKe,UAAYf,KAAKe,UAAUD,KAAKd,MACrCA,KAAKgB,UAAYhB,KAAKgB,UAAUF,KAAKd,MACrCA,KAAKiB,OAASjB,KAAKiB,OAAOH,KAAKd,MAC/BA,KAAKkB,eAAiBlB,KAAKkB,eAAeJ,KAAKd,MAC/CA,KAAKmB,gBAAkBnB,KAAKmB,gBAAgBL,KAAKd,MAGjDW,OAAOS,iBAAiB,SAAUpB,KAAKiB,QAAQ,GAC/CjB,KAAKK,KAAKe,iBAAiB,QAASpB,KAAKe,WACzCf,KAAKM,KAAKc,iBAAiB,QAASpB,KAAKgB,WAGzChB,KAAKmB,kBACLnB,KAAKkB,iBA3CqxE,OAA/sCvB,aAAaN,EAAU,CAAC,CAACgC,IAAI,kBAAkBC,MAAM,WAmDhoC,OAAItB,KAAKU,aAAeb,aACtB,QAAA0B,OAAevB,KAAKO,WAApB,qBAEA,QAAAgB,OAAevB,KAAKO,WAApB,sBAtDyzC,CAACc,IAAI,YAAYC,MAAM,WA8Dl1C,IAAMN,EAAYhB,KAAKS,YAAc,EAErCT,KAAKS,YAAcO,EAAYhB,KAAKO,WAAaS,EAAY,EAC7DhB,KAAKkB,mBAjEm9C,CAACG,IAAI,YAAYC,MAAM,WAwE/+C,IAAMP,EAAYf,KAAKS,YAAc,EAErCT,KAAKS,YAAcM,GAAa,EAAIA,EAAYf,KAAKO,WAAa,EAClEP,KAAKkB,mBA3EmnD,CAACG,IAAI,SAASC,MAAM,YAmFzoDtB,KAAKU,aAAeb,cAAgBc,OAAOC,WAAaf,cACxDG,KAAKU,YAAcb,cAAgBc,OAAOC,YAAcf,gBAEzDG,KAAKU,YAAcC,OAAOC,WAC1BZ,KAAKmB,kBACLnB,KAAKkB,oBAxF82D,CAACG,IAAI,iBAAiBC,MAAM,WAgGj5DtB,KAAKG,QAAQqB,MAAMC,UAAnB,oBAAAF,OACEvB,KAAKS,YADP,eAAAc,OAEcvB,KAAKO,WAFnB,SAhGoiE,CAACc,IAAI,kBAAkBC,MAAM,WAyGjkEtB,KAAKG,QAAQqB,MAAME,MAAQ1B,KAAKa,qBAzGgnE,CAAC,CAACQ,IAAI,OAAOC,MAAM,WAgHnpEK,SAASzB,iBAAiBJ,UAElCP,QAAQ,SAACQ,GACf,IAAIV,EAAUU,SAnHixEV,EAAniE,GAwHlQG,OAAOoC,QAAUvC;ACxHjB,aAMA,IAAMwC,aAAe,KAMfhC,aAAe,KAMfiC,aAAe,IAErBtC,OAAOoC,QAAU,CACfC,aAAAA,aACAhC,aAAAA,aACAiC,aAAAA","file":"app.js","sourcesContent":["'use strict';\n\nrequire('core-js/modules/es6.promise');\nrequire('core-js/modules/es6.array.iterator');\n\nconst Spotlight = require('./modules/spotlight');\n\nconst modules = [Spotlight];\n\n// Initialize all modules\nmodules.forEach((module) => {\n  module.init();\n});\n","'use strict';\n\nconst { MAX_WIDTH_MD } = require('../util/constants');\n\n/**\n * The element selector\n * @type {string}\n */\nconst selector = '.spotlight';\n\nclass Spotlight {\n  /**\n   * Component constructor, sets initial state\n   * @param el\n   */\n  constructor(el) {\n    // Elements\n    this.el = el;\n    this.items = el.querySelectorAll('.spotlight__slide');\n    this.wrapper = el.querySelector('.spotlight__slides-wrapper');\n    this.prev = el.querySelector('.spotlight__prev');\n    this.next = el.querySelector('.spotlight__next');\n\n    // State\n    this.slideCount = this.items.length;\n    this.activeSlide = 0;\n    this.renderWidth = window.innerWidth;\n\n    // Bindings\n    this.getWrapperWidth = this.getWrapperWidth.bind(this);\n    this.prevSlide = this.prevSlide.bind(this);\n    this.nextSlide = this.nextSlide.bind(this);\n    this.resize = this.resize.bind(this);\n    this.setActiveSlide = this.setActiveSlide.bind(this);\n    this.setWrapperWidth = this.setWrapperWidth.bind(this);\n\n    // Listeners\n    window.addEventListener('resize', this.resize, false);\n    this.prev.addEventListener('click', this.prevSlide);\n    this.next.addEventListener('click', this.nextSlide);\n\n    // Initialize\n    this.setWrapperWidth();\n    this.setActiveSlide();\n  }\n\n  /**\n   * Gets the wrapper width based on the viewport size\n   * @returns {string}\n   */\n  getWrapperWidth() {\n    if (this.renderWidth <= MAX_WIDTH_MD) {\n      return `calc(${this.slideCount} * (100% + 16px))`;\n    } else {\n      return `calc(${this.slideCount} * (55% + 32px))`;\n    }\n  }\n\n  /**\n   * Sets active slide to next slide\n   */\n  nextSlide() {\n    const nextSlide = this.activeSlide + 1;\n\n    this.activeSlide = nextSlide < this.slideCount ? nextSlide : 0;\n    this.setActiveSlide();\n  }\n\n  /**\n   * Sets active slide to previous slide\n   */\n  prevSlide() {\n    const prevSlide = this.activeSlide - 1;\n\n    this.activeSlide = prevSlide >= 0 ? prevSlide : this.slideCount - 1;\n    this.setActiveSlide();\n  }\n\n  /**\n   * Updates the component when viewport size changes\n   */\n  resize() {\n    if (\n      (this.renderWidth <= MAX_WIDTH_MD && window.innerWidth > MAX_WIDTH_MD) ||\n      (this.renderWidth > MAX_WIDTH_MD && window.innerWidth <= MAX_WIDTH_MD)\n    ) {\n      this.renderWidth = window.innerWidth;\n      this.setWrapperWidth();\n      this.setActiveSlide();\n    }\n  }\n\n  /**\n   * Sets the active slide by transforming the wrapper\n   */\n  setActiveSlide() {\n    this.wrapper.style.transform = `translateX(calc(-${\n      this.activeSlide\n    } * (100% / ${this.slideCount})))`;\n  }\n\n  /**\n   * Sets the wrapper width\n   */\n  setWrapperWidth() {\n    this.wrapper.style.width = this.getWrapperWidth();\n  }\n\n  /**\n   * Initializes all spotlights on a page\n   */\n  static init() {\n    const modules = document.querySelectorAll(selector);\n\n    modules.forEach((el) => {\n      new Spotlight(el);\n    });\n  }\n}\n\nmodule.exports = Spotlight;\n","'use strict';\n\n/**\n * Max width for large viewports\n * @type {number}\n */\nconst MAX_WIDTH_LG = 1440;\n\n/**\n * Max width for medium viewports\n * @type {number}\n */\nconst MAX_WIDTH_MD = 1024;\n\n/**\n * Max width for small viewports\n * @type {number}\n */\nconst MAX_WIDTH_SM = 767;\n\nmodule.exports = {\n  MAX_WIDTH_LG,\n  MAX_WIDTH_MD,\n  MAX_WIDTH_SM\n};\n"]}